<!DOCTYPE html>
<html lang="en" class="docs">
<head>
	<meta charset="UTF-8">
	<title>Murmur doc</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://dev.mavo.io/dist/mavo.css" />
	<link rel="stylesheet" href="../css/style.css" />
	<link rel="icon" href="/favicon.ico">

	<link rel='stylesheet' href='../docs/style.css'>

	<script src="https://dev.mavo.io/dist/mavo.es5.js"></script>
</head>


<body class="language-markup">

<header>
	<h1 class="logo">
		<a>Murmur</a>
		<!-- <a href="/"><img src="../logo.svg" alt="Mavo"></a> -->
	</h1>
	<!-- <nav>
		<a href="../docs/primer">Get started</a>
		<a href="../docs">Docs</a>
		<a href="../demos">Demos</a>
		<a href="../faq">FAQ</a>
		<a href="https://plugins.mavo.io">Plugins</a>
		<a href="../get">Get Mavo</a>
		<a href="https://play.mavo.io">Play!</a>
		<a class="github-button" href="https://github.com/mavoweb/mavo" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star mavoweb/mavo on GitHub">Star</a>
	</nav> -->

</header>


<h2>APIs</h2>
<style>
td:nth-child(2):empty::before {
	content: "(Any element)";
	opacity: .5;
	font-size: 70%;
	font-style: italic;
	font-weight: bold;
}

thead th:first-child {
	width: 18%;
}

table.attributes {
	    width: 100%;

}
</style>

<section id="intro">
	<p>
		Program your inbox with python!
	</p>

	<h6>(Gmail only) Before you start, go to <a href="https://myaccount.google.com/lesssecureapps">"Less secure apps" section of my Account.</a> And Enable less secure log in.</h6>
</section>

<section>
	<h1>Mmail</h1>
	<p>A collection of emails</p>

	<h3>not yet-add_flags</h3>
	<p>Return a number of messages at the Mmail object.</p>
	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>flags</code></td>
				<td>list of string</td>
				<td>Add <code>flags</code> to messages <code>flags</code> should be a sequence of strings.</td>
			</tr>
		</tbody>
	</table> 
	<!-- <pre class="language-html">
		<code class="python">
		</code>
	</pre> -->

	<h3>not yet-copy</h3>
	<p>Copy one or more messages to <code>dst_folder</code>. </p>
	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>dst_folder</code></td>
				<td>string</td>
				<td></td>
			</tr>
		</tbody>
	</table>

	<h3>not yet-remove_flags</h3>
	<p>Remove one or more flags from messages in the currently selected folder.</p>
	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>flags</code></td>
				<td>list of string</td>
				<td>Remove <code>flags</code> to messages <code>flags</code> should be a sequence of strings.</td>
			</tr>
		</tbody>
	</table>

	<h3>get_count()</h3>
	<p>Return a number of messages at the Mmail object.</p>
	<pre class="language-html">
		<code class="python">
			print m.get_count()
			>> 3
		</code>
	</pre>

	<h3>get_senders()</h3>
	<p>Return a list of senders at the Mmail object.</p>
	<pre class="language-html">
		<code class="python">
			print m.get_senders()
		>> ["Free food &lt;vulture@mit.edu&gt;", "Amy Zhang &lt;axz@mit.edu&gt;", "David Karger &lt;karger@mit.edu&gt;"]
		</code>
	</pre>

	<h3>get_recipients()</h3>
	<p>Return a list of recipients at the Mmail object.</p>
	<pre class="language-html">
		<code class="python">
			print m.get_recipients()
		>> ["Soya Park &lt;soya@gmail.com&gt;", "Amy Zhang &lt;axz@mit.edu&gt;", "David Karger &lt;karger@mit.edu&gt;"]
		</code>
	</pre>

	<h3>Not supported yet - get_attachments()</h3>
	<p>Return emails which have attachments.</p>

	<h3>Not supported yet - get_contents()</h3>
	<p>Return a content of emails at the Mmail object.</p>

	<h3>get_flags()</h3>
	<p>Return flags of the messages at the Mmail object.</p>
	<pre class="language-html">
		<code class="python">
			print m.get_flags()
			>> {msgid1: ["important", "\\Seen"], msgid2: ..}
		</code>
	</pre>

	<h3>get_subjects()</h3>
	<p>Return a list of subject of the messages at the Mmail object</p>
	<pre class="language-html">
		<code class="python">
			print m.get_subjects()
			>> ["Free food at G5!", "Please read my draft", "FINAL HOURS: 20% OFF Sitewide!"]
		</code>
	</pre>
 	
</section>

<section>
	<h1>Email event listener</h1>
	<!-- TODO:  -->
	<!-- <p class="note">If you'd like to get <strong>selective notifications</strong> for incoming emails, you should do these steps! <br/>
	1. Create a folder name (<strong><em>murmur-test-all</em></strong>). <br/>
	2. Make a filter(<strong><em>Exclude: sbhappylee@gmail.com</em></strong>) at the folder. <br/>
	3. Use <code>send()</code> function and set parameter Admin as <code>True</code> Then you will get selective notifications only when your defined condition is satisfied.</p> -->

	<h3>onArrive(doAction, folders=["INBOX"])</h3>
	<p>Fire every time a new email has been arrived.</p>
	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>doAction</code></td>
				<td>callable</td>
				<td><code>doAction</code> is executed when a new email has arrived.</td>
			</tr>
			<tr>
				<td>Not yet-<code>folders</code></td>
				<td>list of string</td>
				<td>Which folder to watch. If an email arrives at other folder, the event will not be fired.</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<pre class="language-html">
		<code class="python">
def doAction(email):
    if "action required" in email.getSubject()[0]:
    	send("to_me@mit.edu", "Check inbox!", email.getContent()[0])

onArrive(doAction, ["INBOX", "folder1"])
		</code>
	</pre>

	<h3>Not yet - onTime(doAction, minutes=60 | seconds | hours)</h3>
	<p>Fire and execute <code>doAction</code> once when time is up. If you are looking for a function for recurring events, check <code><a href="#repeat">repeat</a></code></p>
	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>doAction</code></td>
				<td>callable</td>
				<td><code>doAction</code> is executed every <code>interval</code></td>
			</tr>
			<tr>
				<td><code>minutes | hours</code></td>
				<td>number</td>
				<td>This parameter could be in minutes or hours. In minutes by default.</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<pre class="language-html">
		<code class="python">
def doAction(emails):
    email_content = "\n".join( emails.getSubject() )
    send("to_me@mit.edu", "Murmur: Hourly digest", email_content)

onTime(doAction, 60)
		</code>
	</pre>

	<h3>onCustom(doAction, cond, folders=["INBOX"])</h3>
	<p>Fire when user-defined condition is met. If you enable this feature, your email clients don't give you notification until your defined queue is full. Once queue is full, it gives one notification that the targeted email has arrived, empty the queue and then repeat the process. </p>
	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>doAction</code></td>
				<td>callable</td>
				<td><code>doAction</code> is executed every <code>interval</code></td>
			</tr>
			<tr>
				<td><code>cond</code></td>
				<td>function</td>
				<td><code>cond</code> will be passed a Mmail object which captures incoming emails after the event onCustom() has been installed. <code>cond</code> should return boolean value, <code>True</code> when the queue should be flushed and <code>False</code> otherwise. 
				It must not be null.</td>
			</tr>
			<tr>
				<td>Not yet-<code>folders</code></td>
				<td>list of string</td>
				<td>Which folder to watch. If an email arrives at other folder, the event will not be fired.</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<pre class="language-html">
		<code class="python">
def doAction(emails_at_queue):
    email_content = "\n".join( emails_at_queue.getSubject() )
    send("to_me@mit.edu", "Murmur: Full queue", email_content)

def cond(emails_at_queue):
    if emails_at_queue.getCount() >= 5:
        return True

    return False

onCustom(doAction, cond, ["INBOX", "folder1"])
		</code>
	</pre>
</section>

<section>
	
</section>

<section>
	<h1>not yet-create_folder()</h1>
	<p>Create a new message and append at a folder</p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>folder</code></td>
				<td>string</td>
				<td>A name of new folder</td>
			</tr>
		</tbody>
	</table> 
	<br>
<!-- 	<pre class="language-html">
		<code class="python">
		</code>
	</pre> -->
</section>

<section>
	<h1>not yet-create_message()</h1>
	<p>Create a new message and append at a folder</p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>subject</code></td>
				<td>string</td>
				<td></td>
			</tr>
			<tr>
				<td><code>content</code></td>
				<td>string</td>
				<td></td>
			</tr>
			<tr>
				<td><code>folder</code></td>
				<td>string</td>
				<td>The created message will be appended at <code>folder</code>. "INBOX" by default.</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<pre class="language-html">
		<code class="python">
		</code>
	</pre>
</section>

<section>
	<h1>not yet-delete_folder()</h1>
	<p>Delete a folder and messages in the folder.</p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>folder</code></td>
				<td>string</td>
				<td>A name of folder to be deleted.</td>
			</tr>
		</tbody>
	</table> 
	<br>
<!-- 	<pre class="language-html">
		<code class="python">
		</code>
	</pre> -->
</section>

<section>
	<h1>not yet-list_folders</h1>
	<p></p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>doAction</code></td>
				<td>callable</td>
				<td><code>doAction</code> is executed every given interval.</td>
			</tr>
			<tr>
				<td><code>minutes | hours</code></td>
				<td>number</td>
				<td>This parameter could be in minutes or hours. In minutes by default.</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<pre class="language-html">
		<code class="python">
			def doAction(emails):
			    email_content = "\n".join( emails.getSubject() )
			    send("to_me@mit.edu", "Murmur: Hourly digest", email_content)

			repeat(doAction, minutes = 60)
		</code>
	</pre>
</section>

<section>
	<h1>repeat</h1>
	<p></p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style="width: 60%"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>doAction</code></td>
				<td>callable</td>
				<td><code>doAction</code> is executed every given interval.</td>
			</tr>
			<tr>
				<td><code>minutes | hours</code></td>
				<td>number</td>
				<td>This parameter could be in minutes or hours. In minutes by default.</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<pre class="language-html">
		<code class="python">
			def doAction(emails):
			    email_content = "\n".join( emails.getSubject() )
			    send("to_me@mit.edu", "Murmur: Hourly digest", email_content)

			repeat(doAction, minutes = 60)
		</code>
	</pre>
</section>

<section>
	<h1>mark_read</h1>
	<p>Mark messages as read or unread </p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style=""></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>messages</code></td>
				<td>Mmail</td>
				<td><code>Mmail</code> object</td>
			</tr>
			<tr>
				<td><code>read</code></td>
				<td>boolean</td>
				<td>Mark as read if <code>read</code> is <code>True</code>, otherwise unread</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<!-- <pre class="language-html">
		<code class="python">
		</code>
	</pre> -->
</section>

<section>
	<h1>not yet-move</h1>
	<p> </p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style=""></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>messages</code></td>
				<td>Mmail</td>
				<td><code>Mmail</code> object</td>
			</tr>
			<tr>
				<td><code>read</code></td>
				<td>boolean</td>
				<td>Mark as read if <code>read</code> is <code>True</code>, otherwise unread</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<!-- <pre class="language-html">
		<code class="python">
		</code>
	</pre> -->
</section>

<section>
	<h1>not yet-rename_folder</h1>
	<p>Rename a name of folder with a new name </p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style=""></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>old_name</code></td>
				<td>string</td>
				<td>A name of existing folder</td>
			</tr>
			<tr>
				<td><code>new_name</code></td>
				<td>string</td>
				<td>A new name for <code>old_name</code> folder</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<!-- <pre class="language-html">
		<code class="python">
		</code>
	</pre> -->
</section>

<section>
	<h1>not yet-search</h1>
	<p>Search messages which are met the given condition. Returns a <code>Mmail</code> object.</p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style=""></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>search_creteria</code></td>
				<td>dictionary</td>
				<td>Search by email fields e.g, sender, receipient, subject, content, flags.. </td>
			</tr>
			<tr>
				<td><code>folder</code></td>
				<td>list of string</td>
				<td>Which folder to search for.</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<pre class="language-html">
		<code class="python">
			search({"from": "soya", "subject": "free food", "received_since": "~~"}, ["INBOX"])
		</code>
	</pre>
</section>

<section>
	<h1>send</h1>
	<p>Send an email </p>

	<table class="attributes">
		<thead>
			<tr>
				<th style="width: 20%">Parameter</th>
				<th style="width: 20%"></th>
				<th style=""></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>to_addr</code></td>
				<td>string</td>
				<td>Receipient address</td>
			</tr>
			<tr>
				<td><code>subject</code></td>
				<td>string</td>
				<td>A subjet of email</td>
			</tr>
			<tr>
				<td><code>content</code></td>
				<td>string</td>
				<td>Content of email</td>
			</tr>
			<tr>
				<td><code>admin</code></td>
				<td>boolean</td>
				<td>if <code>True</code>, the email is sent by our admin address. Otherwise, from your own email address.</td>
			</tr>
		</tbody>
	</table> 
	<br>
	<!-- <pre class="language-html">
		<code class="python">
		</code>
	</pre> -->
</section>

<aside id="contents" class="no-toc">
	<ul class="index">
		<li><a href="../docs">API</a></li>
	</ul>
</aside>

<footer>
<!-- 	<p>
		Made with &hearts;
	</p> -->
	<!-- <article>
		<h1>Explore</h1>

		<ul>
			<li><a href="../docs/primer">Get started</a></li>
			<li><a href="../docs">Docs</a></li>
			<li><a href="../demos">Demos</a></li>
			<li><a href="../faq">FAQ</a></li>
			<li><a href="https://plugins.mavo.io">Plugins</a></li>
			<li><a href="../get">Get Mavo</a></li>
			<li><a href="https://test.mavo.io">Testsuite</a></li>
			<li><a href="../credits">Credits</a></li>
		</ul>
	</article>
	<article>
		<h1>Social Mavo</h1>

		<ul>
			<li><a href="https://twitter.com/mavoweb">Follow @mavoweb on Twitter</a></li>
			<li><a href="https://gitter.im/mavoweb">Chat with us on Gitter</a></li>
			<li>
				<a href="https://github.com/mavoweb/mavo">Github</a>
				<a class="github-button" href="https://github.com/mavoweb/mavo" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star mavoweb/mavo on GitHub">Star</a>
			</li>
		</ul>
	</article> -->

	<a href="http://mit.edu" class="logo"><img src="../img/logo-mit.svg" alt="MIT" /></a>
	<a href="http://csail.mit.edu" class="logo"><img src="../img/logo-csail.svg" alt="CSAIL" /></a>
</footer>

<script src="../js/prism.js"></script>
<script src="../sitewide.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>


<script src="../js/docs.js"></script>


</body>
</html>
